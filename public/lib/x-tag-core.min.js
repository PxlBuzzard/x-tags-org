(document.register||{}).__polyfill__||function(){function e(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function t(r,n){var o=t[n||e(r)];return o?o(r):r}function r(e){return-1==w.indexOf(typeof e)?Array.prototype.slice.call(e,0):[e]}function n(e,t){return e&&t&&t.length?r(e.querySelectorAll(t)):[]}function o(e){return e.nodeName?h[e.nodeName.toLowerCase()]:!1}function a(e,t){var r=e.nextSibling,n=e.parentNode,o=y.createDocumentFragment(),i=t.call(o.appendChild(e),o)||e;r?n.insertBefore(i,r):n.appendChild(i)}function s(e,t){if(!e._elementupgraded&&!e._suppressObservers){var r=o(e);if(r){var n=e;t&&(e._suppressObservers=!0,a(e,function(){for(n=E.call(y,e.nodeName),n._suppressObservers=!0;e.firstChild;)n.appendChild(e.firstChild);for(var t=e.attributes.length;t--;){var r=e.attributes[t];n.setAttribute(r.name,r.value)}return n})),n.__proto__=r.prototype,n.constructor=r.constructor,n._elementupgraded=!0,_||delete n._suppressObservers,r.lifecycle.created.call(n,r.prototype),t&&v(e,"elementreplace",{upgrade:n},{bubbles:!1}),v(n,"elementupgrade")}}}function c(e){var t=o(e);if(t)if(e._elementupgraded){if(e._suppressObservers)return delete e._suppressObservers,e;!e._suppressObservers&&y.documentElement.contains(e)&&t.lifecycle.inserted.call(e),l(e)}else s(e,!0);else l(e)}function l(e){e.childNodes.length&&n(e,b).forEach(function(e){e._elementupgraded||s(e,!0),o(e).lifecycle.inserted.call(e)})}function u(e){e._elementupgraded&&(e._suppressObservers?delete e._suppressObservers:(o(e).lifecycle.removed.call(e),e.childNodes.length&&n(e,b).forEach(function(e){u(e)})))}function f(e,t,r){e._records||(e._records={inserted:[],removed:[]},_?(e._observer=new _(function(t){p(e,t)}),e._observer.observe(e,{subtree:!0,childList:!0,attributes:!!0,characterData:!1})):["Inserted","Removed"].forEach(function(t){e.addEventListener("DOMNode"+t,function(r){r._mutation=!0,e._records[t.toLowerCase()].forEach(function(e){e(r.target,r)})},!1)})),-1==e._records[t].indexOf(r)&&e._records[t].push(r)}function d(e,t,r){var n=e._records;n&&r?n[t].splice(n[t].indexOf(r),1):n[t]=[]}function p(e,t){var r={added:[],removed:[]};t.forEach(function(t){t._mutation=!0;for(var n in r){var o=e._records["added"==n?"inserted":"removed"],a=t[n+"Nodes"],s=a.length;for(i=0;s>i&&-1==r[n].indexOf(a[i]);i++)r[n].push(a[i]),o.forEach(function(e){e(a[i],t)})}})}function v(e,t,r,n){n=n||{};var o=y.createEvent("Event");o.initEvent(t,"bubbles"in n?n.bubbles:!0,"cancelable"in n?n.cancelable:!0);for(var i in r)o[i]=r[i];e.dispatchEvent(o)}var m=window,y=document,h={},b=[],g=!1,_=m.MutationObserver||m.WebKitMutationObserver||m.MozMutationObserver,E=y.createElement,O=function(e,t){if(h[e]||b.push(e),t=t||{},t.prototype&&!("setAttribute"in t.prototype))throw new TypeError("Unexpected prototype for "+e+" element - custom element prototypes must inherit from the Element interface");var r=t.lifecycle||{},o=h[e]={constructor:function(){return y.createElement(e)},prototype:t.prototype||Object.create((m.HTMLSpanElement||m.HTMLElement).prototype),fragment:t.fragment||y.createDocumentFragment(),lifecycle:{created:r.created||function(){},removed:r.removed||function(){},inserted:r.inserted||function(){},attributeChanged:r.attributeChanged||function(){}}};return o.constructor.prototype=o.prototype,g&&n(y,e).forEach(function(e){s(e,!0)}),o.constructor};t.object=function(e){var r={};for(var n in e)r[n]=t(e[n]);return r},t.array=function(e){for(var r=e.length,n=Array(r);r--;)n[r]=t(e[r]);return n};var w=["number","boolean","string","function"],A=!y.register;if(A){y.register=O,y.createElement=function(e){var t=E.call(y,e);return s(t),t};var C=Element.prototype.setAttribute;Element.prototype.setAttribute=function(e,t){var r=o(this),n=this.getAttribute(e);C.call(this,e,t),r&&n!=this.getAttribute(e)&&r.lifecycle.attributeChanged.call(this,e,t,n)};var x=function(){f(y.documentElement,"inserted",c),f(y.documentElement,"removed",u),b.length&&n(y,b).forEach(function(e){s(e,!0)}),g=!0,v(y,"DOMComponentsLoaded"),v(y,"__DOMComponentsLoaded__")};"complete"==y.readyState?x():y.addEventListener("interactive"==y.readyState?"readystatechange":"DOMContentLoaded",x)}y.register.__polyfill__={query:n,clone:t,typeOf:e,toArray:r,fireEvent:v,manipulate:a,addObserver:f,removeObserver:d,observerElement:y.documentElement,parseMutations:p,_inserted:c,_createElement:E,_polyfilled:A}}(),function(){function e(e,t,r){var n=u.typeOf(r);return"object"==n&&"object"==u.typeOf(e[t])?u.merge(e[t],r):e[t]=u.clone(r,n),e}function t(e,t,r){var n={};for(var o in r)n[o.split(":")[0]]=!0;for(var i in t)n[i.split(":")[0]]||(r[i]=t[i])}function r(e){return e.mixins.forEach(function(r){var n=u.mixins[r];for(var o in n)switch(o){case"lifecycle":case"methods":t(o,n[o],e[o]);break;case"accessors":case"prototype":for(var i in n[o])t(i,n[o],e.accessors);break;case"events":}}),e}var n=window,o=document,i={action:function(e,t){return~e.value.match(/(\d+)/g).indexOf(t.keyCode+"")==("keypass"==e.name)}},a=function(e,t){return e.listener.touched?e.listener.touched=!1:(t.type.match("touch")&&(e.listener.touched=!0),void 0)},s=function(e){var t="over"==e;return{base:"OverflowEvent"in window?"overflowchanged":e+"flow",condition:function(r,n){return n.type==e+"flow"||0===n.orient&&n.horizontalOverflow==t||1==n.orient&&n.verticalOverflow==t||2==n.orient&&n.horizontalOverflow==t&&n.verticalOverflow==t}}},c=function(){var e=n.getComputedStyle(o.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],r="WebKit|Moz|MS|O".match(RegExp("("+t+")","i"))[1];return{dom:r,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}(),l=Element.prototype.matchesSelector||Element.prototype[c.lowercase+"MatchesSelector"],u={defaultOptions:{mixins:[],events:{},methods:{},accessors:{},lifecycle:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:this.__xtag__={data:{}}},set:function(){}}}},register:function(e,t){var i=u.merge({},u.defaultOptions,t);i=r(i);for(var a in i.events)i.events[a.split(":")[0]]=u.parseEvent(a,i.events[a]);for(a in i.lifecycle)i.lifecycle[a.split(":")[0]]=u.applyPseudos(a,i.lifecycle[a]);for(a in i.methods)i.prototype[a.split(":")[0]]={value:u.applyPseudos(a,i.methods[a])};for(var s in i.accessors){i.prototype[s]={};var c=i.accessors[s];for(a in c){var l=a.split(":"),f=l[0];"get"==f||"set"==f?(l[0]=s,i.prototype[s][f]=u.applyPseudos(l.join(":"),c[a])):i.prototype[s][a]=c[a]}}var d=i.lifecycle.created;i.lifecycle.created=function(){return u.addEvents(this,i.events),i.mixins.forEach(function(e){u.mixins[e].events&&u.addEvents(this,u.mixins[e].events)},this),d?d.apply(this,u.toArray(arguments)):null};var p=o.register(e,{prototype:"nodeName"in i.prototype?i.prototype:Object.create((n.HTMLSpanElement||n.HTMLElement).prototype,i.prototype),lifecycle:i.lifecycle});return p},mixins:{},prefix:c,captureEvents:["focus","blur"],customEvents:{overflow:s("over"),underflow:s("under"),animationstart:{base:["animationstart","oAnimationStart","MSAnimationStart","webkitAnimationStart"]},transitionend:{base:["transitionend","oTransitionEnd","MSTransitionEnd","webkitTransitionEnd"]},tap:{base:["click","touchend"],condition:a},tapstart:{base:["mousedown","touchstart"],condition:a},tapend:{base:["mouseup","touchend"],condition:a},tapenter:{base:["mouseover","touchenter"],condition:a},tapleave:{base:["mouseout","touchleave"],condition:a},tapmove:{base:["mousemove","touchmove"],condition:a}},pseudos:{keypass:i,keyfail:i,delegate:{action:function(e,t){var r=u.query(this,e.value).filter(function(e){return e==t.target||e.contains?e.contains(t.target):!1})[0];return r?e.listener=e.listener.bind(r):!1}},preventable:{action:function(e,t){return!t.defaultPrevented}},attribute:{action:function(e,t){this.setAttribute(e.value||e.key.split(":")[0],t,!0)}}},wrap:function(e,t){return function(){var r=u.toArray(arguments),n=e.apply(this,r);return n===!1?!1:t.apply(this,n!==void 0?u.toArray(n):r)}},merge:function(t,r,n){if("string"==u.typeOf(r))return e(t,r,n);for(var o=1,i=arguments.length;i>o;o++){var a=arguments[o];for(var s in a)e(t,s,a[s])}return t},skipTransition:function(e,t,r){var n=c.js+"TransitionDuration";e.style[n]="0.001s",t.call(r),u.addEvent(e,"transitionend",function(){e.style[n]=""})},matchSelector:function(e,t){return l.call(e,t)},innerHTML:function(e,t){e.innerHTML=t,u._polyfilled&&(u.observerElement._observer?u.parseMutations(u.observerElement,u.observerElement._observer.takeRecords()):u._inserted(e))},hasClass:function(e,t){return e.className.split(" ").indexOf(t.trim())>-1},addClass:function(e,t){var r=e.className.trim().split(" ");return t.trim().split(" ").forEach(function(e){~r.indexOf(e)||r.push(e)}),e.className=r.join(" ").trim(),e},removeClass:function(e,t){var r=t.trim().split(" ");return e.className=e.className.trim().split(" ").filter(function(e){return e&&!~r.indexOf(e)}).join(" "),e},toggleClass:function(e,t){return u[u.hasClass(e,t)?"removeClass":"addClass"].call(null,e,t)},query:function(e,t){return u.toArray(e.querySelectorAll(t))},queryChildren:function(e,t){var r=e.id,n=e.id=r||"x_"+(new Date).getTime(),o="#"+n+" > ";t=o+(t+"").replace(",",","+o,"g");var i=e.parentNode.querySelectorAll(t);return r||(e.id=null),u.toArray(i)},createFragment:function(e){var t=o.createDocumentFragment();if(e){for(var r=t.appendChild(o.createElement("div")),n=u.toArray(e.nodeName?arguments:!(r.innerHTML=e)||r.children),i=n.length;i--;)t.insertBefore(n[i],r);t.removeChild(r)}return t},applyPseudos:function(e,t){var r=t;if(e.match(":"))for(var n=e.match(/(\w+(?:\([^\)]+\))?)/g),o=n.length;--o;)n[o].replace(/(\w*)(?:\(([^\)]*)\))?/,function(t,n,o){var i=u.pseudos[n];if(!i)throw"pseudo not found: "+n;var a=r;r=function(){var t=u.toArray(arguments),r={key:e,name:n,value:o,listener:a};return i.action.apply(this,[r].concat(t))===!1?!1:r.listener.apply(this,t)}});return r},parseEvent:function(e,t){var r=e.split(":"),n=r.shift(),o=u.merge({base:n,pseudos:"",onAdd:function(){},onRemove:function(){},condition:function(){}},u.customEvents[n]||{});if(o.type=n+(o.pseudos.length?":"+o.pseudos:"")+(r.length?":"+r.join(":"):""),t){var i=u.applyPseudos(o.type,t);o.listener=function(){var e=u.toArray(arguments);return o.condition.apply(this,[o].concat(e))===!1?!1:i.apply(this,e)}}return o},addEvent:function(e,t,r){var n="function"==typeof r?u.parseEvent(t,r):r;return n.onAdd.call(e,n,n.listener),u.toArray(n.base).forEach(function(t){e.addEventListener(t,n.listener,u.captureEvents.indexOf(t)>-1)}),n.listener},addEvents:function(e,t){for(var r in t)u.addEvent(e,r,t[r])},removeEvent:function(e,t,r){var n=u.parseEvent(t);n.onRemove.call(e,n,r),u.removePseudos(e,n.type,r),u.toArray(n.base).forEach(function(t){e.removeEventListener(t,r)})}};u.typeOf=o.register.__polyfill__.typeOf,u.clone=o.register.__polyfill__.clone,u.merge(u,o.register.__polyfill__),"function"==typeof define&&define.amd?define(u):n.xtag=u}();