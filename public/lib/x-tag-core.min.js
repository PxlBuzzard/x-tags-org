(document.register||{}).__polyfill__||function(){function e(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function t(r,n){var i=t[n||e(r)];return i?i(r):r}function r(e){return-1==w.indexOf(typeof e)?Array.prototype.slice.call(e,0):[e]}function n(e,t){return e&&t&&t.length?r(e.querySelectorAll(t)):[]}function a(e){return e.nodeName?h[e.nodeName.toLowerCase()]:!1}function o(e,t){var r=e.nextSibling,n=e.parentNode,i=v.createDocumentFragment(),a=t.call(i.appendChild(e),i)||e;r?n.insertBefore(a,r):n.appendChild(a)}function s(e,t){if(!e._elementupgraded&&!e._suppressObservers){var r=a(e);if(r){var n=e;t&&(e._suppressObservers=!0,o(e,function(){for(n=x.call(v,e.nodeName),n._suppressObservers=!0;e.firstChild;)n.appendChild(e.firstChild);for(var t=e.attributes.length;t--;){var r=e.attributes[t];n.setAttribute(r.name,r.value)}return n})),n.__proto__=r.prototype,n.constructor=r.constructor,n._elementupgraded=!0,E||delete n._suppressObservers,r.lifecycle.created.call(n,r.prototype),t&&m(e,"elementreplace",{upgrade:n},{bubbles:!1}),m(n,"elementupgrade")}}}function c(e){var t=a(e);if(t)if(e._elementupgraded){if(e._suppressObservers)return delete e._suppressObservers,e;!e._suppressObservers&&v.documentElement.contains(e)&&t.lifecycle.inserted.call(e),l(e)}else s(e,!0);else l(e)}function l(e){e.childNodes.length&&n(e,y).forEach(function(e){e._elementupgraded||s(e,!0),a(e).lifecycle.inserted.call(e)})}function u(e){e._elementupgraded&&(e._suppressObservers?delete e._suppressObservers:(a(e).lifecycle.removed.call(e),e.childNodes.length&&n(e,y).forEach(function(e){u(e)})))}function d(e,t,r){e._records||(e._records={inserted:[],removed:[]},E?(e._observer=new E(function(t){p(e,t)}),e._observer.observe(e,{subtree:!0,childList:!0,attributes:!!0,characterData:!1})):["Inserted","Removed"].forEach(function(t){e.addEventListener("DOMNode"+t,function(r){r._mutation=!0,e._records[t.toLowerCase()].forEach(function(e){e(r.target,r)})},!1)})),-1==e._records[t].indexOf(r)&&e._records[t].push(r)}function f(e,t,r){var n=e._records;n&&r?n[t].splice(n[t].indexOf(r),1):n[t]=[]}function p(e,t){var r={added:[],removed:[]};t.forEach(function(t){t._mutation=!0;for(var n in r){var a=e._records["added"==n?"inserted":"removed"],o=t[n+"Nodes"],s=o.length;for(i=0;s>i&&-1==r[n].indexOf(o[i]);i++)r[n].push(o[i]),a.forEach(function(e){e(o[i],t)})}})}function m(e,t,r,n){n=n||{};var i=v.createEvent("Event");i.initEvent(t,"bubbles"in n?n.bubbles:!0,"cancelable"in n?n.cancelable:!0);for(var a in r)i[a]=r[a];e.dispatchEvent(i)}var g=window,v=document,h={},y=[],b=!1,E=g.MutationObserver||g.WebKitMutationObserver||g.MozMutationObserver,x=v.createElement,_=function(e,t){if(h[e]||y.push(e),t=t||{},t.prototype&&!("setAttribute"in t.prototype))throw new TypeError("Unexpected prototype for "+e+" element - custom element prototypes must inherit from the Element interface");var r=t.lifecycle||{},i=h[e]={constructor:function(){return v.createElement(e)},prototype:t.prototype||Object.create((g.HTMLSpanElement||g.HTMLElement).prototype),fragment:t.fragment||v.createDocumentFragment(),lifecycle:{created:r.created||function(){},removed:r.removed||function(){},inserted:r.inserted||function(){},attributeChanged:r.attributeChanged||function(){}}};return i.constructor.prototype=i.prototype,b&&n(v,e).forEach(function(e){s(e,!0)}),i.constructor};t.object=function(e){var r={};for(var n in e)r[n]=t(e[n]);return r},t.array=function(e){for(var r=e.length,n=Array(r);r--;)n[r]=t(e[r]);return n};var w=["number","boolean","string","function"],O=!v.register;if(O){v.register=_,v.createElement=function(e){var t=x.call(v,e);return s(t),t};var C=Element.prototype.setAttribute;Element.prototype.setAttribute=function(e,t){var r=a(this),n=this.getAttribute(e);C.call(this,e,t),r&&n!=this.getAttribute(e)&&r.lifecycle.attributeChanged.call(this,e,t,n)};var A=function(){d(v.documentElement,"inserted",c),d(v.documentElement,"removed",u),y.length&&n(v,y).forEach(function(e){s(e,!0)}),b=!0,m(v,"DOMComponentsLoaded"),m(v,"__DOMComponentsLoaded__")};"complete"==v.readyState?A():v.addEventListener("interactive"==v.readyState?"readystatechange":"DOMContentLoaded",A)}v.register.__polyfill__={query:n,clone:t,typeOf:e,toArray:r,fireEvent:m,manipulate:o,addObserver:d,removeObserver:f,observerElement:v.documentElement,parseMutations:p,_inserted:c,_createElement:x,_polyfilled:O}}(),function(){function e(e,t,r){var n=u.typeOf(r);return"object"==n&&"object"==u.typeOf(e[t])?u.merge(e[t],r):e[t]=u.clone(r,n),e}function t(e,t,r){var n={};for(var i in r)n[i.split(":")[0]]=!0;for(var a in t)n[a.split(":")[0]]||(r[a]=t[a])}function r(e){return e.mixins.forEach(function(r){var n=u.mixins[r];for(var i in n)switch(i){case"lifecycle":case"methods":t(i,n[i],e[i]);break;case"accessors":case"prototype":for(var a in n[i])t(a,n[i],e.accessors);break;case"events":}}),e}var n=window,i=document,a={action:function(e,t){return e.value.match(/(\d+)/g).indexOf(t.keyCode+"")>-1==("keypass"==e.name)}},o=function(e,t){return e.listener.touched?e.listener.touched=!1:(t.type.match("touch")&&(e.listener.touched=!0),void 0)},s=function(e){var t="over"==e;return{base:"OverflowEvent"in window?"overflowchanged":e+"flow",condition:function(r,n){return n.type==e+"flow"||0===n.orient&&n.horizontalOverflow==t||1==n.orient&&n.verticalOverflow==t||2==n.orient&&n.horizontalOverflow==t&&n.verticalOverflow==t}}},c=function(){var e=n.getComputedStyle(i.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],r="WebKit|Moz|MS|O".match(RegExp("("+t+")","i"))[1];return{dom:r,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}(),l=Element.prototype.matchesSelector||Element.prototype[c.lowercase+"MatchesSelector"],u={defaultOptions:{mixins:[],events:{},methods:{},accessors:{},lifecycle:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:this.__xtag__={data:{}}},set:function(){}}}},register:function(e,t){var a=u.merge({},u.defaultOptions,t);a=r(a);for(var o in a.events)a.events[o.split(":")[0]]=u.parseEvent(o,a.events[o]);for(o in a.lifecycle)a.lifecycle[o.split(":")[0]]=u.applyPseudos(o,a.lifecycle[o]);for(o in a.methods)a.prototype[o.split(":")[0]]={value:u.applyPseudos(o,a.methods[o])};for(var s in a.accessors){a.prototype[s]={};var c=a.accessors[s];for(o in c){var l=o.split(":"),d=l[0];"get"==d||"set"==d?(l[0]=s,a.prototype[s][d]=u.applyPseudos(l.join(":"),c[o])):a.prototype[s][o]=c[o]}}var f=a.lifecycle.created;a.lifecycle.created=function(){return u.addEvents(this,a.events),a.mixins.forEach(function(e){u.mixins[e].events&&u.addEvents(this,u.mixins[e].events)},this),f?f.apply(this,u.toArray(arguments)):null};var p=i.register(e,{prototype:"nodeName"in a.prototype?a.prototype:Object.create((n.HTMLSpanElement||n.HTMLElement).prototype,a.prototype),lifecycle:a.lifecycle});return p},mixins:{},prefix:c,captureEvents:["focus","blur"],customEvents:{overflow:s("over"),underflow:s("under"),animationstart:{base:["animationstart","oAnimationStart","MSAnimationStart","webkitAnimationStart"]},transitionend:{base:["transitionend","oTransitionEnd","MSTransitionEnd","webkitTransitionEnd"]},tap:{base:["click","touchend"],condition:o},tapstart:{base:["mousedown","touchstart"],condition:o},tapend:{base:["mouseup","touchend"],condition:o},tapenter:{base:["mouseover","touchenter"],condition:o},tapleave:{base:["mouseout","touchleave"],condition:o},tapmove:{base:["mousemove","touchmove"],condition:o}},pseudos:{keypass:a,keyfail:a,delegate:{action:function(e,t){var r=u.query(this,e.value).filter(function(e){return e==t.target||e.contains?e.contains(t.target):!1})[0];return r?e.listener=e.listener.bind(r):!1}},preventable:{action:function(e,t){return!t.defaultPrevented}},attribute:{action:function(e,t){this.setAttribute(e.value||e.key.split(":")[0],t,!0)}}},wrap:function(e,t){return function(){var r=u.toArray(arguments),n=e.apply(this,r);return n===!1?!1:t.apply(this,n!==void 0?u.toArray(n):r)}},merge:function(t,r,n){if("string"==u.typeOf(r))return e(t,r,n);for(var i=1,a=arguments.length;a>i;i++){var o=arguments[i];for(var s in o)e(t,s,o[s])}return t},skipTransition:function(e,t,r){var n=c.js+"TransitionDuration";e.style[n]="0.001s",t.call(r),u.addEvent(e,"transitionend",function(){e.style[n]=""})},matchSelector:function(e,t){return l.call(e,t)},innerHTML:function(e,t){e.innerHTML=t,u._polyfilled&&(u.observerElement._observer?u.parseMutations(u.observerElement,u.observerElement._observer.takeRecords()):u._inserted(e))},hasClass:function(e,t){return e.className.split(" ").indexOf(t.trim())>-1},addClass:function(e,t){var r=e.className.trim().split(" ");return t.trim().split(" ").forEach(function(e){~r.indexOf(e)||r.push(e)}),e.className=r.join(" ").trim(),e},removeClass:function(e,t){var r=t.trim().split(" ");return e.className=e.className.trim().split(" ").filter(function(e){return e&&!~r.indexOf(e)}).join(" "),e},toggleClass:function(e,t){return u[u.hasClass(e,t)?"removeClass":"addClass"].call(null,e,t)},query:function(e,t){return u.toArray(e.querySelectorAll(t))},queryChildren:function(e,t){var r=e.id,n=e.id=r||"x_"+(new Date).getTime(),i="#"+n+" > ";t=i+(t+"").replace(",",","+i,"g");var a=e.parentNode.querySelectorAll(t);return r||(e.id=null),u.toArray(a)},createFragment:function(e){var t=i.createDocumentFragment();if(e){for(var r=t.appendChild(i.createElement("div")),n=u.toArray(e.nodeName?arguments:!(r.innerHTML=e)||r.children),a=n.length;a--;)t.insertBefore(n[a],r);t.removeChild(r)}return t},applyPseudos:function(e,t){var r=t;if(e.match(":"))for(var n=e.match(/(\w+(?:\([^\)]+\))?)/g),i=n.length;--i;)n[i].replace(/(\w*)(?:\(([^\)]*)\))?/,function(t,n,i){var a=u.pseudos[n];if(!a)throw"pseudo not found: "+n;var o=r;r=function(){var t=u.toArray(arguments),r={key:e,name:n,value:i,listener:o};return a.action.apply(this,[r].concat(t))===!1?!1:r.listener.apply(this,t)}});return r},parseEvent:function(e,t){var r=e.split(":"),n=r.shift(),i=u.merge({base:n,pseudos:"",onAdd:function(){},onRemove:function(){},condition:function(){}},u.customEvents[n]||{});if(i.type=n+(i.pseudos.length?":"+i.pseudos:"")+(r.length?":"+r.join(":"):""),t){var a=u.applyPseudos(i.type,t);i.listener=function(){var e=u.toArray(arguments);return i.condition.apply(this,[i].concat(e))===!1?!1:a.apply(this,e)}}return i},addEvent:function(e,t,r){var n="function"==typeof r?u.parseEvent(t,r):r;return n.onAdd.call(e,n,n.listener),u.toArray(n.base).forEach(function(t){e.addEventListener(t,n.listener,u.captureEvents.indexOf(t)>-1)}),n.listener},addEvents:function(e,t){for(var r in t)u.addEvent(e,r,t[r])},removeEvent:function(e,t,r){var n=u.parseEvent(t);n.onRemove.call(e,n,r),u.removePseudos(e,n.type,r),u.toArray(n.base).forEach(function(t){e.removeEventListener(t,r)})}};u.typeOf=i.register.__polyfill__.typeOf,u.clone=i.register.__polyfill__.clone,u.merge(u,i.register.__polyfill__),"function"==typeof define&&define.amd?define(u):n.xtag=u}();