(function(){function t(t){"MENU"==t.nodeName&&"X-SLIDEMENU"!=t.parentNode.nodeName&&(t.__slidemenuParent__=t.parentNode,t.parentNode.setAttribute("x-slidemenu-node",""))}function e(t){"MENU"==t.nodeName&&(t.__slidemenuParent__.removeAttribute("x-slidemenu-node"),delete t.__slidemenuParent__)}function i(t,e){t+="Attribute",e[t]("active",""),e[t]("selected","")}xtag.register("x-slidemenu",{lifecycle:{created:function(){xtag.addObserver(this,"inserted",t),xtag.addObserver(this,"removed",e),xtag.query(this,"menu").forEach(t)}},events:{"tap:delegate(menu > *)":function(t){var e=xtag.queryChildren(this,"menu")[0];if(e){var n=t.currentTarget.querySelector("[active]");n&&n.removeAttribute("active"),i("set",e)}},"tap:delegate(menu[selected])":function(t){if(this.firstElementChild&&t.pageY<this.firstElementChild.offsetTop){i("remove",this);for(var e,n=this.parentNode;!e&&n!=t.currentTarget;)"MENU"==n.nodeName&&i("set",e=n),n=n.parentNode}}},accessors:{currentMenu:{get:function(){return this.querySelector("menu[active]")||xtag.queryChildren(this,"menu")[0]}}},methods:{back:function(){var t=this.currentMenu;if(t){i("remove",t);for(var e=t.parentNode;e!=this;){if("MENU"==e.nodeName&&e.hasAttribute("selected")){e.setAttribute("active","");break}e=e.parentNode}}},open:function(t){var e=t.nodeName?t:this.querySelector(t);if(e&&"MENU"==e.nodeName){xtag.query(this,"menu[selected]").forEach(function(t){t.contains(e)||i("remove",t)}),i("set",e);for(var n=e.parentNode;n;)"MENU"==n.nodeName&&n.setAttribute("selected",""),n=n!=this&&n.parentNode}}}})})();