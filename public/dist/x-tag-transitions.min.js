(function(){function t(t){return t.__transitions__=t.__transitions__||{}}function e(t,e,n){var o=getComputedStyle(t),r=n[e].after;t.setAttribute("transition",e),r&&!o[s].match(i)&&r()}var i=/[1-9]/,n=/ /g,o=/(\d|\d+?[.]?\d+?)(s|ms)(?!\w)/gi,r="transition"in getComputedStyle(document.documentElement)?"t":xtag.prefix.js+"T",s=r+"ransitionDuration",a=r+"ransitionProperty",l=function(t){xtag.requestFrame(function(){xtag.requestFrame(t)})},h="complete"==document.readyState?l(function(){h=!1}):xtag.addEvent(document,"readystatechange",function(){"complete"==document.readyState&&(l(function(){h=!1}),xtag.removeEvent(document,"readystatechange",h))});xtag.addEvents(document,{transitionend:function(e){var i=e.target,r=i.getAttribute("transition");if(r){var l=max=0,h=null,u=getComputedStyle(i),c=t(i),d=u[a].replace(n,"").split(",");if(u[s].replace(o,function(t,e,i){var e=parseFloat(e)*("s"===i?1e3:1);e>max&&(h=l,max=e),l++}),h=d[h],!h)throw new SyntaxError("No matching transition property found");e.propertyName==h&&c[r].after&&c[r].after()}}}),xtag.transition=function(i,n,o){var r=t(i),s=r[n]=o||{};s.immediate&&s.immediate(),s.before?(s.before(),h?xtag.skipTransition(i,function(){e(i,n,r)}):l(function(){e(i,n,r)})):e(i,n,r)},xtag.pseudos.transition={onCompiled:function(t,e){var i={},n=e.arguments[0]||"immediate",o=e.arguments[1]||e.key.split(":")[0];return function(){var e=this,r=arguments;return this.hasAttribute("transition")?(i[n]=function(){return t.apply(e,r)},xtag.transition(this,o,i),void 0):t.apply(this,r)}}}})();