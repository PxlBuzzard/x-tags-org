(function(){var t=[],e=function(t,e,i,n){var o=e.matches?["active","set","add"]:["inactive","remove","remove"],r="mediaquery"+o[0],s={query:e};t[o[1]+"Attribute"]("matches",null),n||xtag.fireEvent(t,r,s),(i||(t.getAttribute("for")||"").split(" ")).forEach(function(e){var i=document.getElementById(e);i&&(xtag[o[2]+"Class"](i,t.id),n||xtag.fireEvent(i,r,s,{bubbles:!1}))})},i=function(i,n,o,r){if(/in/.test(document.readyState)||(r=!0,-1==t.indexOf(i)&&t.push(i)),n=n||i.getAttribute("media")){i.xtag.query&&i.xtag.query.removeListener(i.xtag.listener),n=i.xtag.query=window.matchMedia(n);var s=i.xtag.listener=function(t){e(i,t)};e(i,n,o,r),n.addListener(s)}},n=function(){t=t.map(function(t){return i(t)}),document.removeEventListener("DOMComponentsLoaded",n)};document.addEventListener("DOMComponentsLoaded",n),xtag.register("x-mediaquery",{accessors:{"for":{get:function(){return this.getAttribute("for")},set:function(t){var e=(t||"").split(" ");(this.getAttribute("for")||"").split(" ").map(function(t){var i=e.indexOf(t);if(-1==i){var n=document.getElementById(t);n&&(xtag.removeClass(n,this.id),xtag.fireEvent(n,"mediaqueryremoved"))}else e.splice(i,1)},this),i(this,null,e)}},media:{attribute:{},get:function(){return this.getAttribute("media")},set:function(t){i(this,t)}},id:{attribute:{},get:function(){return this.getAttribute("id")},set:function(t){var e=this.getAttribute("id");xtag.query(document,"."+e).forEach(function(i){xtag.removeClass(i,e),xtag.addClass(i,t)})}}}})})();