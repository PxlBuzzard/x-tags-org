(function(){function t(t){var e=xtag.query(t,"x-slides > x-slide[selected]")[0]||0;return[e?xtag.query(t,"x-slides > x-slide").indexOf(e):e,t.firstElementChild.children.length-1]}function e(t,e){var i=xtag.toArray(t.firstElementChild.children);i.forEach(function(t){t.removeAttribute("selected")}),i[e||0].setAttribute("selected",!0);var o="translate"+(t.getAttribute("orientation")||"x")+"("+(e||0)*(-100/i.length)+"%)";t.firstElementChild.style[n]=o,t.firstElementChild.style.transform=o}function i(t){var i=this.firstElementChild;if(i&&i.children.length&&"x-slides"==i.tagName.toLowerCase()){var o=xtag.toArray(i.children),r=100/(o.length||1),s=this.getAttribute("orientation")||"x",a="x"==s?["width","height"]:["height","width"];if(i.style[a[1]]="100%",i.style[a[0]]=100*o.length+"%",i.style[n]="translate"+s+"(0%)",i.style.transform="translate"+s+"(0%)",o.forEach(function(t){t.style[a[0]]=r+"%",t.style[a[1]]="100%"}),t){var l=i.querySelector("[selected]");l&&e(this,o.indexOf(l)||0)}}}var n=xtag.prefix.js+"Transform";xtag.register("x-slidebox",{lifecycle:{created:function(){i()}},events:{transitionend:function(t){t.target==this.firstElementChild&&xtag.fireEvent(this,"slideend")},"reveal:delegate(x-slidebox > x-slides > x-slide)":function(t){var e=t.target;if(t.target.parentNode.parentNode==t.currentTarget){var i=e.parentNode,n=i.parentNode,o=xtag.query(i,"x-slide");n.slideTo(o.indexOf(e))}}},accessors:{orientation:{get:function(){return this.getAttribute("orientation")},set:function(t){var e=this;xtag.skipTransition(e.firstElementChild,function(){e.setAttribute("orientation",t.toLowerCase()),i.call(e,!0)})}}},methods:{slideTo:function(t){e(this,t)},slideNext:function(){var i=t(this);i[0]++,e(this,i[0]>i[1]?0:i[0])},slidePrevious:function(){var i=t(this);i[0]--,e(this,0>i[0]?i[1]:i[0])}}}),xtag.register("x-slide",{lifecycle:{inserted:function(){var t=this.parentNode.parentNode;"x-slidebox"==t.tagName.toLowerCase()&&i.call(t,!0)},created:function(){if(this.parentNode){var t=this.parentNode.parentNode;"x-slidebox"==t.tagName.toLowerCase()&&i.call(t,!0)}}}})})();