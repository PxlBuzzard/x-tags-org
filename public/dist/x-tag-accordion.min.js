(function(){var t="h1, h2, h3, h4, h5, h6",e=function(e){xtag.query(e.parentNode,t).forEach(function(t,n){t==e&&(this.selectedIndex=n,e.focus())},this)};xtag.register("x-accordion",{lifecycle:{created:function(){var t=Number(this.getAttribute("selected-index"));if(t)this.setSelectedIndex(t);else{var n=xtag.queryChildren(this,"[selected]")[0];n&&e(n)}}},events:{"tap:delegate(h1, h2, h3, h4, h5, h6)":function(t){e.call(t.target.parentNode,this)},"keydown:delegate(h1, h2, h3, h4, h5, h6)":function(t){switch(t.keyCode){case 13:e.call(t.target.parentNode,this);break;case 37:t.target.parentNode.selectPrevious();break;case 39:t.target.parentNode.selectNext()}}},accessors:{selectedIndex:{attribute:{name:"selected-index"},set:function(e){xtag.query(this,t).forEach(function(t,n){e==n?(t.setAttribute("selected",null),xtag.fireEvent(t,"selected")):t.removeAttribute("selected")},this)},get:function(){return Number(this.getAttribute("selected-index"))||xtag.queryChildren(this,t).indexOf(xtag.queryChildren(this,"[selected]")[0])}}},methods:{getSelected:function(){return xtag.queryChildren(this,"[selected]")[0]},setSelected:e,selectNext:function(){var n=xtag.query(this,t);n[0]&&e.call(this,n[this.selectedIndex+1]||n[0])},selectPrevious:function(){var n=xtag.query(this,t);n[0]&&e.call(this,n[this.selectedIndex-1]||n.pop())}}})})();